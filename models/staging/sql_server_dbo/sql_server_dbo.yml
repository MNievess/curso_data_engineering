version: 2

sources:

  - name: sql_server_dbo # name of the source 
    schema: sql_server_dbo # this is the schema our raw data lives in
    database: ALUMNO18_DEV_BRONZE_DB # this is the name of our database

    quoting:
      database: false
      schema: false
      identifier: false

    freshness:
      warn_after: {count: 150, period: day}
      error_after: {count: 300, period: day}
      
    tables:
      - name: addresses
        description: "Tabla que contiene las direcciones de los usuarios, tanto dirección de vivienda como direcciones alternativas de envío"

        columns:
          - name: address_id
            data_type: varchar
            description: "ID de cada dirección"
            tests:
              - not_null
              - unique
                  
          - name: zipcode
            data_type: number
            description: "Código postal de cada dirección"
            tests:
              - not_null
                  
          - name: country
            data_type: varchar
            description: "País de cada dirección"
            tests:
              - not_null
                  
          - name: address
            data_type: varchar
            description: "Dirección completa con calle y número"
            tests:
              - not_null
                  
          - name: state
            data_type: varchar
            description: "País de la dirección"
          
          - name: _fivetran_deleted
            data_type: boolean
            description: ""

          - name: _fivetran_synced
            data_type: timestamp_tz
            description: ""

     